# Astro åšå®¢å›½é™…åŒ–è®¾ç½®æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬é¡¹ç›®å·²æˆåŠŸå®ç°äº†ä¸­è‹±æ–‡åŒè¯­æ”¯æŒï¼Œé‡‡ç”¨ Astro å®˜æ–¹çš„ i18n åŠŸèƒ½ã€‚

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### URL ç»“æ„

- **ä¸­æ–‡ï¼ˆé»˜è®¤ï¼‰**: `/`, `/blog`, `/rustzen-admin`
- **è‹±æ–‡**: `/en`, `/en/blog`, `/en/rustzen-admin`

### æ–‡ä»¶ç»“æ„

```
src/
â”œâ”€â”€ content/
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ article-name.zh.md   # ä¸­æ–‡æ–‡ç« 
â”‚   â”‚   â””â”€â”€ article-name.en.md   # è‹±æ–‡æ–‡ç« 
â”‚   â””â”€â”€ rustzen-admin/
â”‚       â”œâ”€â”€ article-name.zh.md
â”‚       â””â”€â”€ article-name.en.md
â”œâ”€â”€ pages/
â”‚   â”œâ”€â”€ index.astro              # ä¸­æ–‡é¦–é¡µ
â”‚   â”œâ”€â”€ blog/
â”‚   â”‚   â”œâ”€â”€ index.astro          # ä¸­æ–‡åšå®¢åˆ—è¡¨
â”‚   â”‚   â””â”€â”€ [...slug].astro      # ä¸­æ–‡æ–‡ç« é¡µé¢
â”‚   â”œâ”€â”€ rustzen-admin/
â”‚   â”‚   â”œâ”€â”€ index.astro          # ä¸­æ–‡é¡¹ç›®é¡µé¢
â”‚   â”‚   â””â”€â”€ [...slug].astro      # ä¸­æ–‡é¡¹ç›®æ–‡ç« 
â”‚   â””â”€â”€ en/                      # è‹±æ–‡ç‰ˆæœ¬é¡µé¢
â”‚       â”œâ”€â”€ index.astro
â”‚       â”œâ”€â”€ blog/
â”‚       â””â”€â”€ rustzen-admin/
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ LanguageSwitcher.astro   # è¯­è¨€åˆ‡æ¢ç»„ä»¶
â”‚   â””â”€â”€ ...
â””â”€â”€ i18n.ts                     # å›½é™…åŒ–é…ç½®
```

## ğŸ”§ ä¸»è¦åŠŸèƒ½

### 1. è¯­è¨€åˆ‡æ¢

- é¡¶éƒ¨å¯¼èˆªæ å³ä¾§çš„è¯­è¨€åˆ‡æ¢å™¨
- è‡ªåŠ¨ä¿æŒå½“å‰é¡µé¢è·¯å¾„ï¼Œä»…åˆ‡æ¢è¯­è¨€

### 2. å†…å®¹è¿‡æ»¤

- ä¸­æ–‡é¡µé¢åªæ˜¾ç¤º `.zh.md` æ–‡ä»¶
- è‹±æ–‡é¡µé¢åªæ˜¾ç¤º `.en.md` æ–‡ä»¶

### 3. è‡ªåŠ¨åŒ–è·¯ç”±

- ç»Ÿä¸€çš„ slug ç”Ÿæˆï¼ˆç§»é™¤è¯­è¨€åç¼€ï¼‰
- åŠ¨æ€è·¯ç”±æ”¯æŒä¸­è‹±æ–‡å†…å®¹

## ğŸ“ ä½¿ç”¨æ–¹æ³•

### æ·»åŠ æ–°æ–‡ç« 

1. åˆ›å»ºä¸­æ–‡ç‰ˆæœ¬ï¼š`src/content/blog/article-name.zh.md`
2. åˆ›å»ºè‹±æ–‡ç‰ˆæœ¬ï¼š`src/content/blog/article-name.en.md`
3. ç¡®ä¿ä¸¤ä¸ªæ–‡ä»¶çš„ frontmatter ç»“æ„ä¸€è‡´

### æ·»åŠ æ–°ç¿»è¯‘

åœ¨ `src/i18n.ts` ä¸­æ·»åŠ æ–°çš„ç¿»è¯‘é”®å€¼å¯¹ï¼š

```typescript
export const ui = {
  zh: {
    'new.key': 'ä¸­æ–‡ç¿»è¯‘',
  },
  en: {
    'new.key': 'English translation',
  },
};
```

### åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ç¿»è¯‘

```astro
---
import { useTranslations } from '../i18n';

const currentLocale = (Astro.currentLocale || 'zh') as 'zh' | 'en';
const t = useTranslations(currentLocale);
---

<h1>{t('page.title')}</h1>
```

## ğŸ¯ å…³é”®ç‰¹æ€§

1. **SEO å‹å¥½**: æ¯ç§è¯­è¨€éƒ½æœ‰ç‹¬ç«‹çš„ URL
2. **æ€§èƒ½ä¼˜åŒ–**: é™æ€ç”Ÿæˆï¼Œæ— éœ€å®¢æˆ·ç«¯ JavaScript
3. **å¯æ‰©å±•æ€§**: å®¹æ˜“æ·»åŠ æ›´å¤šè¯­è¨€
4. **ç»´æŠ¤æ€§**: æ¸…æ™°çš„æ–‡ä»¶ç»“æ„å’Œå‘½åè§„èŒƒ

## ğŸš€ éƒ¨ç½²è¯´æ˜

æ„å»ºæ—¶ä¼šç”Ÿæˆå®Œæ•´çš„é™æ€ç«™ç‚¹ï¼š

```bash
pnpm build
```

ç”Ÿæˆçš„æ–‡ä»¶ç»“æ„ï¼š

```
dist/
â”œâ”€â”€ index.html              # ä¸­æ–‡é¦–é¡µ
â”œâ”€â”€ blog/
â”œâ”€â”€ rustzen-admin/
â””â”€â”€ en/                     # è‹±æ–‡ç‰ˆæœ¬
    â”œâ”€â”€ index.html
    â”œâ”€â”€ blog/
    â””â”€â”€ rustzen-admin/
```

## ğŸ” æµ‹è¯•

è®¿é—®ä»¥ä¸‹ URL éªŒè¯åŠŸèƒ½ï¼š

- ä¸­æ–‡é¦–é¡µï¼šhttp://localhost:4321/
- è‹±æ–‡é¦–é¡µï¼šhttp://localhost:4321/en
- ä¸­æ–‡åšå®¢ï¼šhttp://localhost:4321/blog
- è‹±æ–‡åšå®¢ï¼šhttp://localhost:4321/en/blog

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [Astro i18n å®˜æ–¹æ–‡æ¡£](https://docs.astro.build/en/guides/internationalization/)
- [Astro å†…å®¹é›†åˆ](https://docs.astro.build/en/guides/content-collections/)
